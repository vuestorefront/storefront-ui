<div
  class="sf-image"
  :class="{'sf-image--no-size': !wrapperStyle}"
  :style="wrapperStyle"
  v-on="$listeners"
  @mouseover="overlay = true"
  @mouseleave="overlay = false"
>
  <template v-if="typeof source === 'string'">
    <img
      v-if="show"
      :src="source"
      :alt="alt"
      :width="width"
      :height="height"
      ref="image"
    />
  </template>
  <template v-else>
    <picture>
      <source
        :srcset="source.desktop.url"
        :media="`(min-width: ${pictureBreakpoint}px)`"
      />
      <source
        :srcset="source.mobile.url"
        :media="`(max-width: ${pictureBreakpoint}px)`"
      />
      <img
        v-if="show"
        :src="source.desktop.url"
        :alt="alt"
        :width="width"
        :height="height"
        ref="image"
      />
    </picture>
  </template>
  <transition name="fade">
    <div v-if="showOverlay" class="sf-image__overlay">
      <slot/>
    </div>
  </transition>
</div>
